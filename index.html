<!DOCTYPE html>
<html>
<head>
    <title>Crypto soldier's program 2.2 ver</title>
</head>
<body>
    <h1>Crypto soldier's program ver 2.1</h1>
    <label for="password">비밀번호:</label>
    <input type="password" id="password">
    <button onclick="login()">로그인</button>

    <div id="content" style="display:none;">
        <label for="inputText">원문:</label>
        <textarea id="inputText" rows="4" cols="50"></textarea><br>
        <label for="key">Key:</label>
        <input type="number" id="key" value="3"><br>
        <button onclick="encrypt()">암호화</button>
        <button onclick="decrypt()">복호화</button>
        <button onclick="copyDecryptedText()">암호코드 복사</button><br>
        <label for="outputText">결과:</label>
        <textarea id="outputText" rows="4" cols="50" readonly></textarea>
    </div>

    <script>
        function login() {
            const password = document.getElementById('password').value;
            
            // 비밀번호 확인 (실제로는 서버에서 확인해야 함)
            if (password === '10905') {
                // 비밀번호가 일치하면 내용 표시
                document.getElementById('content').style.display = 'block';
            } else {
                alert('비밀번호가 틀렸습니다.');
            }
        }

        function encrypt() {
            const inputText = document.getElementById('inputText').value;
            const key = parseInt(document.getElementById('key').value);
            const encryptedText = encryptText(inputText, key);
            document.getElementById('outputText').value = encryptedText;
        }

        function decrypt() {
            const inputText = document.getElementById('inputText').value;
            const key = parseInt(document.getElementById('key').value);
            const decryptedText = decryptText(inputText, key);
            document.getElementById('outputText').value = decryptedText;
        }

        function copyDecryptedText() {
            const outputText = document.getElementById('outputText');
            outputText.select();
            document.execCommand('copy');
        }

        function encryptText(text, key) {
            return text
                .split('')
                .map(char => {
                    const charCode = char.charCodeAt(0);
                    const encryptedCharCode = charCode + key;
                    return encryptedCharCode;
                })
                .join(' ');
        }

        function decryptText(text, key) {
            return text
                .split(' ')
                .map(charCode => {
                    const decryptedCharCode = parseInt(charCode) - key;
                    return String.fromCharCode(decryptedCharCode);
                })
                .join('');
        }
    </script>
</body>
</html>
